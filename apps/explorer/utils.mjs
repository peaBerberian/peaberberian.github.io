export const homeDirSvg = `<svg width="800px" height="800px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-100.000000, -1759.000000)" fill="currentColor"><g transform="translate(56.000000, 160.000000)"><path d="M62,1605.0005 L52,1605.0005 L52,1601.0005 L46,1601.0005 L46,1617.0005 L62,1617.0005 L62,1605.0005 Z M64,1603.0005 L64,1619.0005 L44,1619.0005 L44,1599.0005 L54,1599.0005 L54,1603.0005 L64,1603.0005 Z M50.473,1609.4915 L52.049,1609.2635 C52.295,1609.2275 52.508,1609.0725 52.618,1608.8495 L53.322,1607.4215 C53.461,1607.1405 53.73,1607.0005 54,1607.0005 C54.27,1607.0005 54.539,1607.1405 54.678,1607.4215 L55.382,1608.8495 C55.493,1609.0725 55.705,1609.2275 55.952,1609.2635 L57.527,1609.4915 C58.147,1609.5825 58.395,1610.3445 57.946,1610.7815 L56.806,1611.8925 C56.628,1612.0665 56.546,1612.3165 56.589,1612.5615 L56.858,1614.1305 C56.941,1614.6195 56.553,1615.0165 56.113,1615.0165 C55.997,1615.0165 55.877,1614.9885 55.761,1614.9275 L54.352,1614.1865 C54.242,1614.1285 54.121,1614.0995 54,1614.0995 C53.879,1614.0995 53.758,1614.1285 53.648,1614.1865 L52.239,1614.9275 C52.123,1614.9885 52.003,1615.0165 51.887,1615.0165 C51.447,1615.0165 51.059,1614.6195 51.142,1614.1305 L51.411,1612.5615 C51.454,1612.3165 51.372,1612.0665 51.194,1611.8925 L50.054,1610.7815 C49.605,1610.3445 49.853,1609.5825 50.473,1609.4915 L50.473,1609.4915 Z"></path></g></g></g></svg>`;
export const newDirectorySvg = `<svg width="800px" height="800px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-376.000000, -1639.000000)" fill="currentColor"><g transform="translate(56.000000, 160.000000)"><path d="M329.0709,1497.0005 L325.9999,1497.0005 L325.9999,1494.0005 C325.9999,1493.4485 325.5519,1493.0005 324.9999,1493.0005 C324.4479,1493.0005 323.9999,1493.4485 323.9999,1494.0005 L323.9999,1497.0005 L320.9999,1497.0005 C320.4539,1497.0005 320.0079,1497.4395 319.9999,1497.9855 C319.9919,1498.5435 320.4419,1499.0005 320.9999,1499.0005 L323.9999,1499.0005 L323.9999,1502.0005 C323.9999,1502.5525 324.4479,1503.0005 324.9999,1503.0005 C325.5519,1503.0005 325.9999,1502.5525 325.9999,1502.0005 L325.9999,1499.0005 L329.0709,1499.0005 C329.6179,1499.0005 330.0629,1498.5615 330.0709,1498.0155 C330.0789,1497.4575 329.6289,1497.0005 329.0709,1497.0005 M343.9999,1485.0005 L343.9999,1497.2005 C343.9999,1498.1945 343.1789,1499.0005 342.1849,1499.0005 L332.9849,1499.0005 C332.4329,1499.0005 331.9849,1498.5525 331.9849,1498.0005 C331.9849,1497.4485 332.4329,1497.0005 332.9849,1497.0005 L341.1849,1497.0005 C341.6269,1497.0005 341.9999,1496.6425 341.9999,1496.2005 L341.9999,1486.0005 C341.9999,1485.4485 341.5379,1485.0005 340.9849,1485.0005 L333.9849,1485.0005 C332.8809,1485.0005 331.9999,1484.1045 331.9999,1483.0005 L331.9999,1481.8005 C331.9999,1481.3585 331.6269,1481.0005 331.1849,1481.0005 L326.9849,1481.0005 C326.4329,1481.0005 325.9999,1481.4485 325.9999,1482.0005 L325.9999,1490.0005 C325.9999,1490.5525 325.5519,1491.0005 324.9999,1491.0005 C324.4479,1491.0005 323.9999,1490.5525 323.9999,1490.0005 L323.9999,1481.2005 C323.9999,1479.9855 324.9699,1479.0005 326.1849,1479.0005 L331.9849,1479.0005 C333.0899,1479.0005 333.9999,1479.8955 333.9999,1481.0005 L333.9999,1481.8005 C333.9999,1482.4605 334.5249,1483.0005 335.1849,1483.0005 L341.9849,1483.0005 C343.0899,1483.0005 343.9999,1483.8955 343.9999,1485.0005"></path></g></g></g></svg>`;
export const renameSvg = `<svg width="800px" height="800px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-379.000000, -800.000000)" fill="currentColor"><g transform="translate(56.000000, 160.000000)"><path d="M327.2,654 L325.1,654 L325.1,646 L327.2,646 L327.2,644 L323,644 L323,656 L327.2,656 L327.2,654 Z M333.5,644 L333.5,646 L341.9,646 L341.9,654 L333.5,654 L333.5,656 L344,656 L344,644 L333.5,644 Z M331.4,658 L333.5,658 L333.5,660 L327.2,660 L327.2,658 L329.3,658 L329.3,642 L327.2,642 L327.2,640 L333.5,640 L333.5,642 L331.4,642 L331.4,658 Z"></path></g></g></g></svg>`;
export const cutSvg = `<svg fill="currentColor" height="800px" width="800px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 309.694 309.694" xml:space="preserve"><g><path d="M169.941,182.463l125.645,40.038c1.703,0.543,3.566,0.102,4.846-1.145c1.28-1.248,1.767-3.1,1.268-4.816   c-5.93-20.375-21.613-36.46-41.832-42.903l-103.221-32.893l-8.899-27.925c0.832-0.193,1.656-0.416,2.472-0.676   c20.449-6.517,30.154-31.434,22.095-56.726c-7.803-24.488-30.171-40.075-50.842-33.485c-19.629,6.254-30.345,30.837-22.096,56.728   c0.017,0.052,0.035,0.102,0.052,0.153l15.499,48.637l-48.583-15.481c-0.069-0.022-0.137-0.048-0.206-0.07   c-24.616-7.844-50.126,1.376-56.729,22.097c-6.516,20.449,8.193,42.781,33.485,50.841c24.63,7.848,50.126-1.384,56.727-22.095   c0.262-0.821,0.477-1.646,0.671-2.472l27.929,8.899l22.001,69.042h37.483L169.941,182.463z M76.755,155.453   c-2.157,6.771-14.017,10.517-26.572,6.515c-13.105-4.176-19.955-14.255-17.905-20.688c2.154-6.763,14.004-10.52,26.574-6.516   C71.957,138.94,78.805,149.019,76.755,155.453z M128.76,44.799c6.577-2.101,16.574,4.996,20.688,17.905   c4.176,13.104-0.082,24.521-6.515,26.571c-6.595,2.106-16.585-5.024-20.688-17.903C118.267,58.891,121.972,46.962,128.76,44.799z    M151.869,164.391c-3.945,3.945-10.343,3.945-14.288,0c-3.946-3.946-3.946-10.343,0-14.289c3.945-3.945,10.343-3.945,14.288,0   C155.816,154.048,155.816,160.444,151.869,164.391z"/><path d="M56.5,264.278H19.904H12.5c-6.903,0-12.5,5.597-12.5,12.5c0,6.903,5.597,12.5,12.5,12.5h7.404H56.5   c6.903,0,12.5-5.597,12.5-12.5C69,269.875,63.403,264.278,56.5,264.278z"/><path d="M136.732,264.278h-44c-6.903,0-12.5,5.597-12.5,12.5c0,6.903,5.597,12.5,12.5,12.5h44c6.903,0,12.5-5.597,12.5-12.5   C149.232,269.875,143.635,264.278,136.732,264.278z"/><path d="M216.963,264.278h-44c-6.903,0-12.5,5.597-12.5,12.5c0,6.903,5.597,12.5,12.5,12.5h44c6.903,0,12.5-5.597,12.5-12.5   C229.463,269.875,223.866,264.278,216.963,264.278z"/><path d="M301.893,265.199c-1.451-0.589-3.035-0.921-4.698-0.921h-44c-6.903,0-12.5,5.597-12.5,12.5c0,6.903,5.597,12.5,12.5,12.5   h44c1.663,0,3.247-0.332,4.698-0.921c4.573-1.858,7.802-6.339,7.802-11.579C309.694,271.538,306.466,267.058,301.893,265.199z"/></g></svg>`;
export const pasteSvg = `<svg fill="currentColor" height="800px" width="800px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M372.87,203.208v-19.556c0-27.618-22.469-50.087-50.087-50.087h-5.126L271.633,10.833C269.19,4.317,262.959,0,256,0    s-13.19,4.318-15.633,10.833l-46.024,122.732h-5.126c-27.618,0-50.087,22.469-50.087,50.087v19.556    c-19.435,6.89-33.391,25.459-33.391,47.226v211.478c0,27.618,22.469,50.087,50.087,50.087h200.348    c27.618,0,50.087-22.469,50.087-50.087c0-10.662,0-203.035,0-211.478C406.261,228.667,392.304,210.099,372.87,203.208z     M256,64.245l25.995,69.32h-51.99L256,64.245z M372.87,411.826h-83.478V300.522h83.478V411.826z M372.87,267.13h-83.478    c-18.412,0-33.391,14.979-33.391,33.391v111.304c0,18.412,14.979,33.391,33.391,33.391h83.478v16.696    c0,9.206-7.49,16.696-16.696,16.696H155.826c-9.206,0-16.696-7.49-16.696-16.696V250.435c0-9.206,7.49-16.696,16.696-16.696    h66.783c9.22,0,16.696-7.475,16.696-16.696c0-9.22-7.475-16.696-16.696-16.696h-50.087v-16.696c0-9.206,7.49-16.696,16.696-16.696    c15.332,0,118.223,0,133.565,0c9.206,0,16.696,7.49,16.696,16.696v16.696h-50.087c-9.22,0-16.696,7.475-16.696,16.696    c0,9.22,7.475,16.696,16.696,16.696h66.783c9.206,0,16.696,7.49,16.696,16.696V267.13z"/></g></g></svg>`;

export function showError(containerElt, message) {
  showAppMessage(containerElt, "‚ùå " + message, 5000);
}
export function pathJoin(...paths) {
  if (paths.length === 0) {
    return "";
  }
  let curr = paths[0];
  for (let i = 1; i < paths.length; i++) {
    const newPart = paths[i];
    if (newPart.startsWith("/")) {
      curr = newPart;
    } else if (curr.endsWith("/")) {
      curr += newPart;
    } else {
      curr += "/" + newPart;
    }
  }
  return curr;
}
export function getFileExtension(filename) {
  const dotIndex = filename.lastIndexOf(".");
  return dotIndex === -1 ? "" : filename.slice(dotIndex + 1).toLowerCase();
}

export function getFileIcon({ extension, icon }) {
  if (icon) {
    return icon;
  }
  const iconMap = {
    txt: "üìÑ",
    md: "üìù",
    html: "üåê",
    css: "üé®",
    js: "üìú",
    json: "üìã",
    pdf: "üìë",
    webp: "üñºÔ∏è",
    jpg: "üñºÔ∏è",
    avif: "üñºÔ∏è",
    heif: "üñºÔ∏è",
    jpeg: "üñºÔ∏è",
    png: "üñºÔ∏è",
    gif: "üñºÔ∏è",
    svg: "üñºÔ∏è",
    mp3: "üéµ",
    mp4: "üé¨",
    webm: "üé¨",
    mkv: "üé¨",
    avi: "üé¨",
    zip: "üì¶",
    tar: "üì¶",
    rar: "üì¶",
    gz: "üì¶",
    doc: "üìò",
    docx: "üìò",
    xls: "üìä",
    xlsx: "üìä",
    ppt: "üìä",
    pptx: "üìä",
    csv: "üìä",
  };
  return iconMap[extension] || "üìÑ";
}

/**
 * Apply multiple style attributes on a given element.
 * @param {HTMLElement} element - The `HTMLElement` on which the style should be
 * aplied.
 * @param {Object} style - The dictionnary where keys are style names (JSified,
 * e.g. `backgroundColor` not `background-color`) and values are the
 * corresponding syle values.
 */
export function applyStyle(element, style) {
  for (const key of Object.keys(style)) {
    element.style[key] = style[key];
  }
}
export function disableButton(buttonElt) {
  applyStyle(buttonElt, {
    backgroundColor: "var(--sidebar-bg-color)",
    color: "var(--sidebar-hover-bg)",
    border: "1px solid var(--window-line-color)",
    cursor: "auto",
    transform: "none",
    pointerEvents: "none",
  });
  buttonElt.setAttribute("disabled", "disabled");
  buttonElt.setAttribute("tabindex", "-1");
}

export function enableHighlightedButton(buttonElt) {
  applyStyle(buttonElt, {
    backgroundColor: "var(--sidebar-selected-bg-color)",
    color: "var(--sidebar-selected-text-color)",
    border: "1px solid var(--sidebar-selected-bg-color)",
    cursor: "pointer",
    transform: "",
    pointerEvents: "auto",
  });
  buttonElt.removeAttribute("disabled");
  buttonElt.setAttribute("tabindex", "0");
}
export function enableRegularButton(buttonElt) {
  applyStyle(buttonElt, {
    backgroundColor: "var(--app-primary-bg)",
    color: "var(--window-text-color)",
    border: "1px solid var(--window-line-color)",
    cursor: "pointer",
    transform: "",
    pointerEvents: "auto",
  });
  buttonElt.removeAttribute("disabled");
  buttonElt.setAttribute("tabindex", "0");
}

export function formatSize(size) {
  const units = ["B", "KB", "MB", "GB", "TB"];
  let i = 0;

  while (size >= 1000 && i < units.length - 1) {
    size /= 1000;
    i++;
  }

  return Math.round(size * 100) / 100 + " " + units[i];
}

export function linkAbortControllerToSignal(
  abortController,
  parentAbortSignal,
) {
  const onParentAbort = () => abortController.abort();
  parentAbortSignal.addEventListener("abort", onParentAbort);
  abortController.signal.addEventListener("abort", () => {
    parentAbortSignal.removeEventListener("abort", onParentAbort);
  });
}
export function showAppMessage(containerElt, message, duration = 5000) {
  const messageElt = document.createElement("div");
  messageElt.textContent = message;
  messageElt.style.position = "absolute";
  messageElt.style.top = "10px";
  messageElt.style.left = "50%";
  messageElt.style.transform = "translateX(-50%)";
  messageElt.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
  messageElt.style.color = "white";
  messageElt.style.padding = "10px 20px";
  messageElt.style.borderRadius = "4px";
  messageElt.style.zIndex = "1000";
  messageElt.style.transition = "opacity 0.3s";

  containerElt.appendChild(messageElt);

  setTimeout(() => {
    messageElt.style.opacity = "0";
    // After animation, remove
    setTimeout(() => {
      messageElt.remove();
    }, 350);
  }, duration);
}
