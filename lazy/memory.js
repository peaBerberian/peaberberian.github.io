/** This is the code for the app identified as "memory". */
var K="linear-gradient(135deg, white, #bbb)",j="linear-gradient(135deg, rgb(82, 82, 82), rgb(62, 62, 62))";function ie(N,c){let h=["\u{1F99C}","\u{1F99A}","\u{1F9A9}","\u{1F42A}","\u{1F42B}","\u{1F989}","\u{1F9A4}","\u{1F40A}","\u{1F422}","\u{1F98E}","\u{1F40F}","\u{1F411}","\u{1F40D}","\u{1F419}","\u{1FABC}","\u{1F400}","\u{1F401}","\u{1F980}","\u{1F40B}","\u{1F9AD}","\u{1F41F}","\u{1F9AA}","\u{1F991}","\u{1F990}","\u{1F99E}","\u{1F42C}","\u{1F438}","\u{1F988}","\u{1F41B}","\u{1F41E}","\u{1F40C}","\u{1F998}"],l=[],p=[],D=0,W=0,k=!1,y=!1,d=0,s=5,g=4,T=null,f=document.createElement("div");n(f,{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",backgroundColor:c.STYLE.windowActiveHeader,color:c.STYLE.windowActiveHeaderText,overflow:"auto",boxSizing:"border-box"});let z=document.createElement("div");n(z,{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"15px",backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"10px",borderRadius:"10px",flexShrink:"0"});let L=document.createElement("div");n(L,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"});let _=document.createElement("h2");_.textContent="\u{1F99C} Memory",n(_,{margin:"0",color:c.STYLE.windowActiveHeaderText,fontSize:"clamp(18px, 4vw, 24px)",flexShrink:"0"});let M=document.createElement("div");n(M,{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"});let b=document.createElement("span");b.textContent="Moves: 0",n(b,{fontSize:"clamp(12px, 3vw, 16px)",color:c.STYLE.windowActiveHeaderText,whiteSpace:"nowrap"});let u=document.createElement("button");u.textContent="New Game",n(u,{padding:"6px 12px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"clamp(12px, 3vw, 14px)",transition:"background-color 0.3s",whiteSpace:"nowrap",flexShrink:"0"}),u.addEventListener("click",F),u.addEventListener("mouseenter",oe),u.addEventListener("mouseleave",re),M.appendChild(b),M.appendChild(u),L.appendChild(_),L.appendChild(M);let R=document.createElement("div");n(R,{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center",justifyContent:"flex-start"});let v=document.createElement("div");n(v,{display:"flex",gap:"5px",alignItems:"center",flexWrap:"wrap"});let G=document.createElement("span");G.textContent="Size:",n(G,{fontSize:"clamp(12px, 3vw, 14px)",color:c.STYLE.windowActiveHeaderText,whiteSpace:"nowrap",marginRight:"5px"}),v.appendChild(G),[{cols:3,rows:2},{cols:4,rows:3},{cols:4,rows:4},{cols:5,rows:4},{cols:6,rows:5},{cols:8,rows:6},{cols:8,rows:8}].forEach(e=>{let t=document.createElement("button");t.textContent=`${e.cols}x${e.rows}`,t.dataset.rows=e.rows,t.dataset.cols=e.cols,n(t,{padding:"3px 6px",color:c.STYLE.windowActiveHeaderText,border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"clamp(10px, 2.5vw, 12px)",transition:"background-color 0.3s",whiteSpace:"nowrap",minWidth:"32px"}),v.appendChild(t),t.addEventListener("click",()=>ee(e.cols,e.rows))});let Y=document.createElement("label");n(Y,{display:"flex",alignItems:"center",gap:"5px",fontSize:"clamp(12px, 3vw, 14px)",color:c.STYLE.windowActiveHeaderText,cursor:"pointer",flexShrink:"0"});let w=document.createElement("input");w.type="checkbox",w.checked=!0,n(w,{cursor:"pointer"}),w.addEventListener("change",te);let B=document.createElement("span");B.textContent="Preview cards",n(B,{whiteSpace:"nowrap"}),Y.appendChild(w),Y.appendChild(B),R.appendChild(v),R.appendChild(Y),z.appendChild(L),z.appendChild(R);let A=document.createElement("div");n(A,{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",padding:"10px"});let C=document.createElement("div");n(C,{display:"grid",gap:"20px",padding:"15px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",maxWidth:"100%",overflow:"auto"}),A.appendChild(C),f.appendChild(z),f.appendChild(A);let x=document.createElement("div");n(x,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#27ae60",color:"white",padding:"20px 40px",borderRadius:"12px",fontSize:"clamp(18px, 4vw, 24px)",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",opacity:"0",pointerEvents:"none",transition:"opacity 0.5s, transform 0.5s",zIndex:"1000",maxWidth:"90vw",textAlign:"center"}),x.textContent="Congratulations!",f.appendChild(x);function U(e){let t=[...e];for(let a=t.length-1;a>0;a--){let o=Math.floor(Math.random()*(a+1));[t[a],t[o]]=[t[o],t[a]]}return t}function q(){Array.from(v.getElementsByTagName("button")).forEach(t=>{t.dataset.rows===String(g)&&t.dataset.cols===String(s)?n(t,{backgroundColor:"#e74c3c",color:"white",fontWeight:"bold"}):n(t,{backgroundColor:"rgba(255, 255, 255, 0.1)",fontWeight:"normal"})})}function P(){let e=A.getBoundingClientRect(),t=Math.max(e.width-80,200),a=Math.max(e.height-80,200),o=15,r=Math.max(50,Math.min(Math.floor((t-(s-1)*o)/s),Math.floor((a-(g-1)*o)/g),120));return n(C,{gridTemplateColumns:`repeat(${s}, ${r}px)`,gridTemplateRows:`repeat(${g}, ${r}px)`,gap:`${o}px`}),r}function J(e,t,a){let o=document.createElement("div");n(o,{width:`${a}px`,height:`${a}px`,background:j,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:"rotateY(0deg)",fontSize:`${Math.max(a*.4,12)}px`,userSelect:"none",position:"relative",transformStyle:"preserve-3d"});let r=document.createElement("div");n(r,{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:j,borderRadius:"8px",fontSize:`${Math.max(a*.5,12)}px`}),r.textContent="\u2753";let i=document.createElement("div");return n(i,{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",transform:"rotateY(180deg)",display:"flex",alignItems:"center",justifyContent:"center",background:K,borderRadius:"8px",fontSize:`${Math.max(a*.4,12)}px`}),i.textContent=e,o.appendChild(r),o.appendChild(i),o.dataset.index=t,o.dataset.emoji=e,o.dataset.flipped="false",o.dataset.matched="false",o}function E(e,t=!0){t?(n(e,{transform:"rotateY(180deg)",background:K}),e.dataset.flipped="true"):(n(e,{transform:"rotateY(0deg)",background:j}),e.dataset.flipped="false")}function I(){l=[],p=[],D=0,W=0,k=!1,y=!1,d=0,b.textContent="Moves: 0",x.style.opacity="0";let e=P(),t=s*g,a=Math.floor(t/2),o=[];for(let i=0;i<a;i++){let $=h[i%h.length];o.push($,$)}t%2===1&&o.push(h[a%h.length]);let r=U(o);C.innerHTML="",r.forEach((i,$)=>{let S=J(i,$,e);S.addEventListener("click",Z),S.addEventListener("mouseenter",ne),S.addEventListener("mouseleave",ae),l.push(S),C.appendChild(S)}),q(),w.checked?Q():m()}function Q(){T!==null&&(clearTimeout(T),T=null),l.forEach(e=>{E(e,!0)}),T=setTimeout(()=>{l.forEach(e=>{e.dataset.matched==="false"&&E(e,!1)}),m()},2e3)}function m(){l.forEach((e,t)=>{t===d?n(e,{boxShadow:"0 0 0 3px "+c.STYLE.primaryColor,transform:e.dataset.flipped==="true"?"rotateY(180deg) scale(1.05)":"rotateY(0deg) scale(1.05)"}):n(e,{boxShadow:"none",transform:e.dataset.flipped==="true"?"rotateY(180deg)":"rotateY(0deg)"})})}function V(e){if(y)return;let t=l[e];if(!(t.dataset.flipped==="true"||t.dataset.matched==="true")){if(p.length>=2){for(let a of p)E(a.card,!1);p.length=0}if(k||(k=!0),E(t,!0),p.push({card:t,index:e}),p.length===2){let a=p.slice();W++,b.textContent=`Moves: ${W}`;let[o,r]=a;if(o.card.dataset.emoji===r.card.dataset.emoji){o.card.dataset.matched="true",r.card.dataset.matched="true",p.length=0;for(let{card:i}of[o,r])n(i,{backgroundColor:"#27ae60",transform:"rotateY(180deg) scale(1.1)"}),setTimeout(()=>{i.dataset.flipped==="true"&&n(i,{transform:"rotateY(180deg)"})},300);D++,D===Math.floor(l.length/2)&&(y=!0,X())}else setTimeout(()=>{if(p.includes(a[0])){for(let i of a)E(i.card,!1);p.length=0}},1e3)}}}function X(){n(x,{opacity:"1",transform:"translate(-50%, -50%) scale(1.1)"}),setTimeout(()=>{n(x,{transform:"translate(-50%, -50%) scale(1)"})},200),setTimeout(()=>{n(x,{opacity:"0"})},3e3)}function Z(e){let t=e.currentTarget,a=parseInt(t.dataset.index);d=a,m(),V(a)}function O(e){if(y)return;let t=l.length;switch(e.key){case"ArrowUp":e.preventDefault(),d>=s&&(d-=s,m());break;case"ArrowDown":e.preventDefault(),d<t-s&&(d+=s,m());break;case"ArrowLeft":e.preventDefault(),d%s>0&&(d--,m());break;case"ArrowRight":e.preventDefault(),d%s<s-1&&d<t-1&&(d++,m());break;case"Enter":case" ":e.preventDefault(),V(d);break;case"n":case"N":e.preventDefault(),I();break}}function H(){if(l.length>0){let e=P();l.forEach(t=>{let a=Math.max(e*.4,12);n(t,{width:`${e}px`,height:`${e}px`,fontSize:`${a}px`});let o=t.children[0],r=t.children[1];n(o,{fontSize:`${Math.max(e*.5,12)}px`}),n(r,{fontSize:`${a}px`})}),m()}}function F(){I()}function ee(e,t){s=e,g=t,I()}function te(){k||F()}function ne(e){let t=e.currentTarget;t.dataset.matched==="false"&&t.dataset.flipped==="false"&&n(t,{transform:"rotateY(0deg) scale(1.05)",backgroundColor:"#c0392b"})}function ae(e){let t=e.currentTarget,a=parseInt(t.dataset.index);t.dataset.matched==="false"&&t.dataset.flipped==="false"&&n(t,{transform:a===d?"rotateY(0deg) scale(1.05)":"rotateY(0deg)",backgroundColor:"#e74c3c"})}function oe(){n(u,{backgroundColor:"#c0392b"})}function re(){n(u,{backgroundColor:"#e74c3c"})}return I(),{element:f,onActivate(){document.addEventListener("keydown",O),window.addEventListener("resize",H);let e=new ResizeObserver(H);e.observe(f),f._resizeObserver=e},onDeactivate(){document.removeEventListener("keydown",O),window.removeEventListener("resize",H),f._resizeObserver&&(f._resizeObserver.disconnect(),delete f._resizeObserver)}}}function n(N,c){for(let h of Object.keys(c))N.style[h]=c[h]}export{ie as create};
